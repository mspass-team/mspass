

<!DOCTYPE html>
<html class="writer-html5" lang="en">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>mspass::seismic::Seismogram &mdash; MsPASS 0.0.1 documentation</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=b86133f3" />
      <link rel="stylesheet" type="text/css" href="../_static/css/theme.css?v=e59714d7" />
      <link rel="stylesheet" type="text/css" href="../_static/copybutton.css?v=76b2166b" />

  
      <script src="../_static/jquery.js?v=5d32c60e"></script>
      <script src="../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js?v=f6245a2f"></script>
      <script src="../_static/doctools.js?v=888ff710"></script>
      <script src="../_static/sphinx_highlight.js?v=4825356b"></script>
      <script src="../_static/clipboard.min.js?v=a7894cd8"></script>
      <script src="../_static/copybutton.js?v=f281be69"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="MsPASS Schema" href="../mspass_schema/mspass_schema.html" />
    <link rel="prev" title="mspass::seismic::TimeSeries" href="mspass.seismic.TimeSeries.html" />  

  <style>
    .wy-nav-content { max-width: 1600px; }
  </style>

  
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../index.html" class="icon icon-home">
            MsPASS
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
    
              <p class="caption" role="heading"><span class="caption-text">Desktop Operation</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../getting_started/mspass_desktop.html">Running MsPASS on a Desktop Computer</a></li>
<li class="toctree-l1"><a class="reference internal" href="../getting_started/command_line_desktop.html">Command Line Docker Desktop Operation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../getting_started/deploy_mspass_with_conda.html">Deploy MsPASS with Conda</a></li>
<li class="toctree-l1"><a class="reference internal" href="../getting_started/deploy_mspass_with_conda.html#advanced-setup-considerations">Advanced Setup Considerations</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Cluster Operations</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../getting_started/deploy_mspass_on_HPC.html">Deploying MsPASS on an HPC cluster</a></li>
<li class="toctree-l1"><a class="reference internal" href="../getting_started/deploy_mspass_with_conda_and_coiled.html">Deploy MsPASS with Conda and Coiled</a></li>
<li class="toctree-l1"><a class="reference internal" href="../getting_started/getting_started_overview.html">MsPASS Virtual Cluster Concepts</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Introduction</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../user_manual/introduction.html">Introduction</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Data Management</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../user_manual/database_concepts.html">Database Concepts</a></li>
<li class="toctree-l1"><a class="reference internal" href="../user_manual/CRUD_operations.html">CRUD Operations in MsPASS</a></li>
<li class="toctree-l1"><a class="reference internal" href="../user_manual/mongodb_and_mspass.html">Using MongoDB with MsPASS</a></li>
<li class="toctree-l1"><a class="reference internal" href="../user_manual/normalization.html">Normalization</a></li>
<li class="toctree-l1"><a class="reference internal" href="../user_manual/importing_tabular_data.html">Importing Tabular Data</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Seismic Data Objects</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../user_manual/data_object_design_concepts.html">Data Object Design Concepts</a></li>
<li class="toctree-l1"><a class="reference internal" href="../user_manual/numpy_scipy_interface.html">Using numpy/scipy with MsPASS</a></li>
<li class="toctree-l1"><a class="reference internal" href="../user_manual/obspy_interface.html">Using ObsPy with MsPASS</a></li>
<li class="toctree-l1"><a class="reference internal" href="../user_manual/time_standard_constraints.html">Time Standard Constraints</a></li>
<li class="toctree-l1"><a class="reference internal" href="../user_manual/processing_history_concepts.html">Processing History Concepts</a></li>
<li class="toctree-l1"><a class="reference internal" href="../user_manual/continuous_data.html">Continuous Data Handling with MsPASS</a></li>
<li class="toctree-l1"><a class="reference internal" href="../user_manual/schema_choices.html">What database schema should I use?</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Data Processing</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../user_manual/algorithms.html">Algorithms</a></li>
<li class="toctree-l1"><a class="reference internal" href="../user_manual/importing_data.html">Importing Data</a></li>
<li class="toctree-l1"><a class="reference internal" href="../user_manual/handling_errors.html">Handling Errors</a></li>
<li class="toctree-l1"><a class="reference internal" href="../user_manual/data_editing.html">Data Editing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../user_manual/cleaning_metadata.html">Cleaning Inconsistent Metadata</a></li>
<li class="toctree-l1"><a class="reference internal" href="../user_manual/header_math.html">Header (Metadata) Math</a></li>
<li class="toctree-l1"><a class="reference internal" href="../user_manual/graphics.html">Graphics in MsPASS</a></li>
<li class="toctree-l1"><a class="reference internal" href="../user_manual/signal_to_noise.html">Signal to Noise Ratio Estimation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../user_manual/arrival_time_measurement.html">Arrival Time Measurement Techniques in MsPASS</a></li>
<li class="toctree-l1"><a class="reference internal" href="../user_manual/adapting_algorithms.html">Adapting an Existing Algorithm to MsPASS</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">System Tuning</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../user_manual/parallel_processing.html">Parallel Processing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../user_manual/memory_management.html">Memory Management</a></li>
<li class="toctree-l1"><a class="reference internal" href="../user_manual/io.html">I/O in MsPASS</a></li>
<li class="toctree-l1"><a class="reference internal" href="../user_manual/parallel_io.html">Parallel IO in MsPASS</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">FAQ</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../user_manual/FAQ.html">Frequency Asked Questions (FAQ)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../user_manual/development_strategies.html">How do I develop a new workflow from scratch?</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Reference Manual</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../python_api/index.html">Python API</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">C++ API</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="mspass.html">MsPASS C++ API</a></li>
<li class="toctree-l2"><a class="reference internal" href="mspass.utility.Metadata.html">mspass::utility::Metadata</a></li>
<li class="toctree-l2"><a class="reference internal" href="mspass.seismic.TimeSeries.html">mspass::seismic::TimeSeries</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">mspass::seismic::Seismogram</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../mspass_schema/mspass_schema.html">MsPASS Schema</a></li>
</ul>

    <a href= "../genindex.html">Index</a>
  
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">MsPASS</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="index.html">C++ API</a></li>
      <li class="breadcrumb-item active">mspass::seismic::Seismogram</li>
      <li class="wy-breadcrumbs-aside">
              <a href="https://github.com/mspass-team/mspass/blob/master/docs/source/cxx_api/mspass.seismic.Seismogram.rst" class="fa fa-github"> Edit on GitHub</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="mspass-seismic-seismogram">
<h1>mspass::seismic::Seismogram<a class="headerlink" href="#mspass-seismic-seismogram" title="Permalink to this heading"></a></h1>
<dl class="cpp class">
<dt class="sig sig-object cpp" id="_CPPv4N6mspass7seismic10SeismogramE">
<span id="_CPPv3N6mspass7seismic10SeismogramE"></span><span id="_CPPv2N6mspass7seismic10SeismogramE"></span><span id="mspass::seismic::Seismogram"></span><span class="target" id="classmspass_1_1seismic_1_1_seismogram"></span><span class="k"><span class="pre">class</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">Seismogram</span></span></span><span class="w"> </span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="k"><span class="pre">public</span></span><span class="w"> </span><span class="n"><span class="pre">mspass</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">seismic</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">CoreSeismogram</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="k"><span class="pre">public</span></span><span class="w"> </span><span class="n"><span class="pre">mspass</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">utility</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">ProcessingHistory</span></span><a class="headerlink" href="#_CPPv4N6mspass7seismic10SeismogramE" title="Permalink to this definition"></a><br /></dt>
<dd><p>Implemntation of <a class="reference internal" href="#classmspass_1_1seismic_1_1_seismogram"><span class="std std-ref">Seismogram</span></a> for MsPASS. </p>
<p>This is the working version of a three-component seismogram object used in the MsPASS framework. It extends CoreSeismogram by adding ProcessingHistory. </p>
<p>Subclassed by mspass::seismic::SeismogramWGaps</p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-public-functions">Public Functions</p>
<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4N6mspass7seismic10Seismogram10SeismogramEv">
<span id="_CPPv3N6mspass7seismic10Seismogram10SeismogramEv"></span><span id="_CPPv2N6mspass7seismic10Seismogram10SeismogramEv"></span><span id="mspass::seismic::Seismogram::Seismogram"></span><span class="target" id="classmspass_1_1seismic_1_1_seismogram_1a427934e69f38a6e5d195fe6a8563021c"></span><span class="k"><span class="pre">inline</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">Seismogram</span></span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N6mspass7seismic10Seismogram10SeismogramEv" title="Permalink to this definition"></a><br /></dt>
<dd><p>Default constructor. Only runs subclass default constructors. </p>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4N6mspass7seismic10Seismogram10SeismogramEK6size_t">
<span id="_CPPv3N6mspass7seismic10Seismogram10SeismogramEK6size_t"></span><span id="_CPPv2N6mspass7seismic10Seismogram10SeismogramEK6size_t"></span><span id="mspass::seismic::Seismogram::Seismogram__sC"></span><span class="target" id="classmspass_1_1seismic_1_1_seismogram_1ad590dfa3a949494f55a93a567e785f51"></span><span class="sig-name descname"><span class="n"><span class="pre">Seismogram</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="n"><span class="pre">size_t</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">nsamples</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N6mspass7seismic10Seismogram10SeismogramEK6size_t" title="Permalink to this definition"></a><br /></dt>
<dd><p>Bare bones constructor allocates space and little else.</p>
<p>Sometimes it is helpful to construct a skeleton that can be fleshed out manually. This constructor allocates a 3xnsamples array and sets the matrix to all zeros. It also sets the orientation information to cardinal and defines the data in relative time units. The data are marked dead because the assumption is the caller will fill out commonly needed basic Metadata, load some kind of sample data into the data matrix, and then call the set_live method when that process is completed. That kind of manipulation is most common in preparing simulation or test data where the common tags on real data do not exist and need to be defined manually for the simulatioon or test. The history section is initialized with the default constructor, which currently means it is empty. If a simulation or test requires a history origin the user must load it manaually.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>nsamples</strong> – is the number of 3c vector samples to iniitalize the object with (creates a 3xnsamples matrix). </p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4N6mspass7seismic10Seismogram10SeismogramERKN6mspass7seismic14CoreSeismogramE">
<span id="_CPPv3N6mspass7seismic10Seismogram10SeismogramERKN6mspass7seismic14CoreSeismogramE"></span><span id="_CPPv2N6mspass7seismic10Seismogram10SeismogramERKN6mspass7seismic14CoreSeismogramE"></span><span id="mspass::seismic::Seismogram::Seismogram__mspass::seismic::CoreSeismogramCR"></span><span class="target" id="classmspass_1_1seismic_1_1_seismogram_1ac11cc7bd179af91d62637caffbc070b0"></span><span class="sig-name descname"><span class="n"><span class="pre">Seismogram</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="n"><span class="pre">mspass</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">seismic</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">CoreSeismogram</span></span><span class="w"> </span><span class="p"><span class="pre">&amp;</span></span><span class="n sig-param"><span class="pre">d</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N6mspass7seismic10Seismogram10SeismogramERKN6mspass7seismic14CoreSeismogramE" title="Permalink to this definition"></a><br /></dt>
<dd><p>Construct from lower level CoreSeismogram. </p>
<p>In MsPASS CoreSeismogram has the primary functions that define the concept of a three-component seismogram. <a class="reference internal" href="#classmspass_1_1seismic_1_1_seismogram"><span class="std std-ref">Seismogram</span></a> implements mspass specific features needed to mesh with the mspass processing system. This constructor clones onlyh the CoreSeismogram components and initializes the ProcessingHistory with the default constructor leaves the history in an empty state. Users should call methods in ProcessingHistory to initiate a valid history chain. Processing can continue if left in that state, but the history chain will have an undefined origin. Job information will also be lost if not initialized (see BasicProcessingHistory)</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>d</strong> – is the data to be copied to create the new <a class="reference internal" href="#classmspass_1_1seismic_1_1_seismogram"><span class="std std-ref">Seismogram</span></a> object </p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4N6mspass7seismic10Seismogram10SeismogramERKN6mspass7seismic14CoreSeismogramEKNSt6stringE">
<span id="_CPPv3N6mspass7seismic10Seismogram10SeismogramERKN6mspass7seismic14CoreSeismogramEKNSt6stringE"></span><span id="_CPPv2N6mspass7seismic10Seismogram10SeismogramERKN6mspass7seismic14CoreSeismogramEKNSt6stringE"></span><span id="mspass::seismic::Seismogram::Seismogram__mspass::seismic::CoreSeismogramCR.ssC"></span><span class="target" id="classmspass_1_1seismic_1_1_seismogram_1ad9ee134debc951e675eb93f94b172e40"></span><span class="sig-name descname"><span class="n"><span class="pre">Seismogram</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="n"><span class="pre">mspass</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">seismic</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">CoreSeismogram</span></span><span class="w"> </span><span class="p"><span class="pre">&amp;</span></span><span class="n sig-param"><span class="pre">d</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">string</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">alg</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N6mspass7seismic10Seismogram10SeismogramERKN6mspass7seismic14CoreSeismogramEKNSt6stringE" title="Permalink to this definition"></a><br /></dt>
<dd><p>Contruct from a core seismogram and initialize history as origin.</p>
<p>This constructor is a variant of a similar one built only from a CoreSeismogram. This constuctor is intended to be used mainly on simulation data created by some mechanism (e.g. a python procedure). It is more rigid that the simple one arg constructor as it will create a top level history record. The record will mark the result as an origin with an id set as a uuid created by a random number generator (boost implementation). The jobname and jobid are frozen as “test”. Use a different constructor and/or reset job info if more flexibility is desired. Use of this constructor is recommended only for test python programs that do not need to interact with MongoDB.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>is</strong> – core data to be cloned </p></li>
<li><p><strong>alg</strong> – is the algorithm name to set for the origin history record. </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4N6mspass7seismic10Seismogram10SeismogramERKN6mspass7seismic15BasicTimeSeriesERKN6mspass7utility8MetadataE">
<span id="_CPPv3N6mspass7seismic10Seismogram10SeismogramERKN6mspass7seismic15BasicTimeSeriesERKN6mspass7utility8MetadataE"></span><span id="_CPPv2N6mspass7seismic10Seismogram10SeismogramERKN6mspass7seismic15BasicTimeSeriesERKN6mspass7utility8MetadataE"></span><span id="mspass::seismic::Seismogram::Seismogram__mspass::seismic::BasicTimeSeriesCR.mspass::utility::MetadataCR"></span><span class="target" id="classmspass_1_1seismic_1_1_seismogram_1ae4126ada587a52ed991ed25308a5c9cb"></span><span class="sig-name descname"><span class="n"><span class="pre">Seismogram</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="n"><span class="pre">mspass</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">seismic</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">BasicTimeSeries</span></span><span class="w"> </span><span class="p"><span class="pre">&amp;</span></span><span class="n sig-param"><span class="pre">bts</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="n"><span class="pre">mspass</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">utility</span></span><span class="p"><span class="pre">::</span></span><a class="reference internal" href="mspass.utility.Metadata.html#_CPPv4N6mspass7utility8MetadataE" title="mspass::utility::Metadata"><span class="n"><span class="pre">Metadata</span></span></a><span class="w"> </span><span class="p"><span class="pre">&amp;</span></span><span class="n sig-param"><span class="pre">md</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N6mspass7seismic10Seismogram10SeismogramERKN6mspass7seismic15BasicTimeSeriesERKN6mspass7utility8MetadataE" title="Permalink to this definition"></a><br /></dt>
<dd><p>Partial constructor from base classes. </p>
<p>This is a partial constructor useful sometimes for building a <a class="reference internal" href="#classmspass_1_1seismic_1_1_seismogram"><span class="std std-ref">Seismogram</span></a> object from scratch such as in a simultion. It clones the Metadata and uses attributes in BasicTimeSeries to build a framework that data can be added into. It initialzies the data array to npts stored in the BasicTimeSeries passed to the constructor.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>bts</strong> – is the BasicTimeSeries that overrides any md data. </p></li>
<li><p><strong>md</strong> – is the Metadata cloned to make the partially constructed object. </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4N6mspass7seismic10Seismogram10SeismogramERKN6mspass7seismic15BasicTimeSeriesERKN6mspass7utility8MetadataERKN6mspass7utility17ProcessingHistoryEKbKbRKN6mspass7utility7dmatrixERKN6mspass7utility7dmatrixE">
<span id="_CPPv3N6mspass7seismic10Seismogram10SeismogramERKN6mspass7seismic15BasicTimeSeriesERKN6mspass7utility8MetadataERKN6mspass7utility17ProcessingHistoryEKbKbRKN6mspass7utility7dmatrixERKN6mspass7utility7dmatrixE"></span><span id="_CPPv2N6mspass7seismic10Seismogram10SeismogramERKN6mspass7seismic15BasicTimeSeriesERKN6mspass7utility8MetadataERKN6mspass7utility17ProcessingHistoryEKbKbRKN6mspass7utility7dmatrixERKN6mspass7utility7dmatrixE"></span><span id="mspass::seismic::Seismogram::Seismogram__mspass::seismic::BasicTimeSeriesCR.mspass::utility::MetadataCR.mspass::utility::ProcessingHistoryCR.bC.bC.mspass::utility::dmatrixCR.mspass::utility::dmatrixCR"></span><span class="target" id="classmspass_1_1seismic_1_1_seismogram_1a5705fbcf6d39464827889bc2e96dfb92"></span><span class="sig-name descname"><span class="n"><span class="pre">Seismogram</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="n"><span class="pre">mspass</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">seismic</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">BasicTimeSeries</span></span><span class="w"> </span><span class="p"><span class="pre">&amp;</span></span><span class="n sig-param"><span class="pre">b</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="n"><span class="pre">mspass</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">utility</span></span><span class="p"><span class="pre">::</span></span><a class="reference internal" href="mspass.utility.Metadata.html#_CPPv4N6mspass7utility8MetadataE" title="mspass::utility::Metadata"><span class="n"><span class="pre">Metadata</span></span></a><span class="w"> </span><span class="p"><span class="pre">&amp;</span></span><span class="n sig-param"><span class="pre">m</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="n"><span class="pre">mspass</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">utility</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">ProcessingHistory</span></span><span class="w"> </span><span class="p"><span class="pre">&amp;</span></span><span class="n sig-param"><span class="pre">his</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="kt"><span class="pre">bool</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">card</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="kt"><span class="pre">bool</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">ortho</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="n"><span class="pre">mspass</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">utility</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">dmatrix</span></span><span class="w"> </span><span class="p"><span class="pre">&amp;</span></span><span class="n sig-param"><span class="pre">tm</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="n"><span class="pre">mspass</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">utility</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">dmatrix</span></span><span class="w"> </span><span class="p"><span class="pre">&amp;</span></span><span class="n sig-param"><span class="pre">uin</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N6mspass7seismic10Seismogram10SeismogramERKN6mspass7seismic15BasicTimeSeriesERKN6mspass7utility8MetadataERKN6mspass7utility17ProcessingHistoryEKbKbRKN6mspass7utility7dmatrixERKN6mspass7utility7dmatrixE" title="Permalink to this definition"></a><br /></dt>
<dd><p>Construct from all pieces. </p>
<p>This constructor build a <a class="reference internal" href="#classmspass_1_1seismic_1_1_seismogram"><span class="std std-ref">Seismogram</span></a> object from all the pieces that define this highest level object in mspass. This constructor is planned to be hidden from python programmers and not exposed with pybind11 wrappers because is has some potentially undesirable side effects if not used carefully. The primary purpose of this constructor is for serialization and deserializaton in spark with pickle. The pickle interface is purely in C for this function so again python programmers don’t need to see this constructor. The parameter names are obvious because they are associated one for one with the objects they are used to construct. The only exceptions are card and ortho which are booleans used to set the internal booleans components_are_cardinal and components_are_orthogonal respectively (two internals users should not mess with). tm is also a dmatrix representation the tmatrix stored internally as a 2d C array, but we use the dmatrix to mesh with serialization. </p>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4N6mspass7seismic10Seismogram10SeismogramERK8MetadataKNSt6stringEKNSt6stringEKNSt6stringEKNSt6stringE">
<span id="_CPPv3N6mspass7seismic10Seismogram10SeismogramERK8MetadataKNSt6stringEKNSt6stringEKNSt6stringEKNSt6stringE"></span><span id="_CPPv2N6mspass7seismic10Seismogram10SeismogramERK8MetadataKNSt6stringEKNSt6stringEKNSt6stringEKNSt6stringE"></span><span id="mspass::seismic::Seismogram::Seismogram__MetadataCR.ssC.ssC.ssC.ssC"></span><span class="target" id="classmspass_1_1seismic_1_1_seismogram_1acbb2f19850e7f5d4e9452ed3728b2b32"></span><span class="sig-name descname"><span class="n"><span class="pre">Seismogram</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="n"><span class="pre">Metadata</span></span><span class="w"> </span><span class="p"><span class="pre">&amp;</span></span><span class="n sig-param"><span class="pre">md</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">string</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">jobname</span></span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">string</span></span><span class="p"><span class="pre">(</span></span><span class="s"><span class="pre">&quot;test&quot;</span></span><span class="p"><span class="pre">)</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">string</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">jobid</span></span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">string</span></span><span class="p"><span class="pre">(</span></span><span class="s"><span class="pre">&quot;UNDEFINED&quot;</span></span><span class="p"><span class="pre">)</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">string</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">readername</span></span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">string</span></span><span class="p"><span class="pre">(</span></span><span class="s"><span class="pre">&quot;load3C&quot;</span></span><span class="p"><span class="pre">)</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">string</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">algid</span></span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">string</span></span><span class="p"><span class="pre">(</span></span><span class="s"><span class="pre">&quot;0&quot;</span></span><span class="p"><span class="pre">)</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N6mspass7seismic10Seismogram10SeismogramERK8MetadataKNSt6stringEKNSt6stringEKNSt6stringEKNSt6stringE" title="Permalink to this definition"></a><br /></dt>
<dd><p>Constructor driven by a Metadata object.</p>
<p>The flexibilityof Metadata makes it helpful at times to build a <a class="reference internal" href="#classmspass_1_1seismic_1_1_seismogram"><span class="std std-ref">Seismogram</span></a> object driven by Metadata key:value pairs. This implementation always uses file io to read the actual data and clone the Metadata. ProcessingHistory is initialized to define the result as raw data. The id field is set from Metadata using the special (frozen) key “wf_id” that is assumed to hold the string representation of an ObjectID of the waveform read.</p>
<p>Note all but the Metadata argument are defaulted, but setting the jobname and jobid is strongly recommended to avoid ambiguity - these define a unique run of a particular workflow.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>md</strong> – is the Metadata that is used to drive the constructor. </p></li>
<li><p><strong>jobname</strong> – is the jobname (defaults to test, but should be changed) </p></li>
<li><p><strong>readername</strong> – is the algorithm name assigned to the top level history record. Defaults to “load3C” </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4N6mspass7seismic10Seismogram10SeismogramERK8Metadatab">
<span id="_CPPv3N6mspass7seismic10Seismogram10SeismogramERK8Metadatab"></span><span id="_CPPv2N6mspass7seismic10Seismogram10SeismogramERK8Metadatab"></span><span id="mspass::seismic::Seismogram::Seismogram__MetadataCR.b"></span><span class="target" id="classmspass_1_1seismic_1_1_seismogram_1afaaac8777afb9a25b91b1b4b09b3652d"></span><span class="k"><span class="pre">inline</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">Seismogram</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="n"><span class="pre">Metadata</span></span><span class="w"> </span><span class="p"><span class="pre">&amp;</span></span><span class="n sig-param"><span class="pre">md</span></span>, <span class="kt"><span class="pre">bool</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">load_data</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N6mspass7seismic10Seismogram10SeismogramERK8Metadatab" title="Permalink to this definition"></a><br /></dt>
<dd><p>Construct from Metadata definition that includes data path. </p>
<p>A Metadata object is sufficiently general that it can contain enough information to contruct an object from attributes contained in it. This constuctor uses that approach, with the actual loading of data being an option (on by default). In mspass this is constructor is used to load data with Metadata constructed from MongoDB and then using the path created from two parameters (dir and dfile used as in css3.0 wfdisc) to read data. The API is general but the implementation in mspass is very rigid. It blindly assumes the data being read are binary doubles in the right byte order and ordered in the native order for dmatrix (Fortran order). i.e. the constuctor does a raw fread of ns*3 doubles into the internal array used in the dmatrix implementation.</p>
<p>A second element of the Metadata that is special for MsPASS is the handling of the transformation matrix by this constructor. In MsPASS the transformation matrix is stored as a python object in MongoDB. This constructor aims to fetch that entity with the key ‘tmatrix’. To be more robust and simpler to use with data not loaded from mongodb we default tmatrix to assume the data are in standard coordinates. That is, if the key tmatrix is not defined in Metadata passed as arg0, the constructor assumes it should set the transformation matrix to an identity. Use set_transformation_matrix if that assumption is wrong for your data.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>md</strong> – is the Metadata used for the construction.</p></li>
<li><p><strong>load_data</strong> – if true (default) a file name is constructed from dir+”/”+dfile, the file is openned, fseek is called to foff, data are read with fread, and the file is closed. If false a dmatrix for u is still created of size 3xns, but the matrix is only initialized to all zeros.</p></li>
</ul>
</dd>
<dt class="field-even">Throws<span class="colon">:</span></dt>
<dd class="field-even"><p><span><span class="cpp-expr sig sig-inline cpp"><span class="n">Will</span></span></span> – throw a MsPASSError if required metadata are missing. </p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4N6mspass7seismic10Seismogram10SeismogramERK10Seismogram">
<span id="_CPPv3N6mspass7seismic10Seismogram10SeismogramERK10Seismogram"></span><span id="_CPPv2N6mspass7seismic10Seismogram10SeismogramERK10Seismogram"></span><span id="mspass::seismic::Seismogram::Seismogram__SeismogramCR"></span><span class="target" id="classmspass_1_1seismic_1_1_seismogram_1a275d43464679a4cb963fba217d9383c0"></span><span class="k"><span class="pre">inline</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">Seismogram</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv4N6mspass7seismic10Seismogram10SeismogramERK10Seismogram" title="mspass::seismic::Seismogram::Seismogram"><span class="n"><span class="pre">Seismogram</span></span></a><span class="w"> </span><span class="p"><span class="pre">&amp;</span></span><span class="n sig-param"><span class="pre">parent</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N6mspass7seismic10Seismogram10SeismogramERK10Seismogram" title="Permalink to this definition"></a><br /></dt>
<dd><p>Standard copy constructor. </p>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4N6mspass7seismic10SeismogramaSERK10Seismogram">
<span id="_CPPv3N6mspass7seismic10SeismogramaSERK10Seismogram"></span><span id="_CPPv2N6mspass7seismic10SeismogramaSERK10Seismogram"></span><span id="mspass::seismic::Seismogram::assign-operator__SeismogramCR"></span><span class="target" id="classmspass_1_1seismic_1_1_seismogram_1a68ddfc28edecdb64a007d5163adb9292"></span><a class="reference internal" href="#_CPPv4N6mspass7seismic10SeismogramE" title="mspass::seismic::Seismogram"><span class="n"><span class="pre">Seismogram</span></span></a><span class="w"> </span><span class="p"><span class="pre">&amp;</span></span><span class="sig-name descname"><span class="k"><span class="pre">operator</span></span><span class="o"><span class="pre">=</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv4N6mspass7seismic10SeismogramE" title="mspass::seismic::Seismogram"><span class="n"><span class="pre">Seismogram</span></span></a><span class="w"> </span><span class="p"><span class="pre">&amp;</span></span><span class="n sig-param"><span class="pre">parent</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N6mspass7seismic10SeismogramaSERK10Seismogram" title="Permalink to this definition"></a><br /></dt>
<dd><p>Standard assignment operator. </p>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4N6mspass7seismic10Seismogram12load_historyERKN6mspass7utility17ProcessingHistoryE">
<span id="_CPPv3N6mspass7seismic10Seismogram12load_historyERKN6mspass7utility17ProcessingHistoryE"></span><span id="_CPPv2N6mspass7seismic10Seismogram12load_historyERKN6mspass7utility17ProcessingHistoryE"></span><span id="mspass::seismic::Seismogram::load_history__mspass::utility::ProcessingHistoryCR"></span><span class="target" id="classmspass_1_1seismic_1_1_seismogram_1a6a08b90222beaf43809a3691f80b61c6"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">load_history</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="n"><span class="pre">mspass</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">utility</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">ProcessingHistory</span></span><span class="w"> </span><span class="p"><span class="pre">&amp;</span></span><span class="n sig-param"><span class="pre">h</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N6mspass7seismic10Seismogram12load_historyERKN6mspass7utility17ProcessingHistoryE" title="Permalink to this definition"></a><br /></dt>
<dd><p>Load just the ProcessingHistory data from another data source. </p>
<p>Some algorithms don’t handle processing history. In those situations it can prove helpful to manage ProcessingHistory separately and load the history data through this method.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>h</strong> – is the ProcessingHistory data to copy into this <a class="reference internal" href="#classmspass_1_1seismic_1_1_seismogram"><span class="std std-ref">Seismogram</span></a>. </p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4NK6mspass7seismic10Seismogram10memory_useEv">
<span id="_CPPv3NK6mspass7seismic10Seismogram10memory_useEv"></span><span id="_CPPv2NK6mspass7seismic10Seismogram10memory_useEv"></span><span id="mspass::seismic::Seismogram::memory_useC"></span><span class="target" id="classmspass_1_1seismic_1_1_seismogram_1a80ca1e43523f8826e18ac2a656d54ba2"></span><span class="n"><span class="pre">size_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">memory_use</span></span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><span class="w"> </span><span class="k"><span class="pre">const</span></span><a class="headerlink" href="#_CPPv4NK6mspass7seismic10Seismogram10memory_useEv" title="Permalink to this definition"></a><br /></dt>
<dd><p>Return an estimate of the memmory use by the data in this object.</p>
<p>Memory consumed by a <a class="reference internal" href="#classmspass_1_1seismic_1_1_seismogram"><span class="std std-ref">Seismogram</span></a> object is needed to implement the <strong>sizeof</strong> method in python that dask/spark use to manage memory. Without that feature we had memory fault issues. Note the estimate this method returns should not be expected to be exact. The MsPASS implementation or any alternative implementation avoids an exact calculation because it requries an (expensive) traversal of multiple map containers. </p>
</dd></dl>

</div>
</dd></dl>

</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="mspass.seismic.TimeSeries.html" class="btn btn-neutral float-left" title="mspass::seismic::TimeSeries" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="../mspass_schema/mspass_schema.html" class="btn btn-neutral float-right" title="MsPASS Schema" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2020-2021, Ian Wang.</p>
  </div>

   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>