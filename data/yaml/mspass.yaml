# Notes on the format of this master configuration file
# Multiple groups of attributes can be defined in indented sections.  The
# top level master is Attributes.  Exensions should be added in groups with
# appropriate names.  All will be parsed.
#
# All real number values should have type: set to double because python float
# today is always a 64 bit entity which to C++ is a double
#
# For each entry these keys are required:  name, type, and concept.
# If aliases is missing it means tehre are none.  You can also just have no entry after the keyword
# readonly is a boolean.  If is present it will be taken as true unless explicitly marked false
#   Hence, normally just omit this for atributes that are to be automatically written
#   and updated.
# unique_id and table are required ONLY if readonly is true.   These are used to
#   reference what MongoDB calls the normalized data model.  This feature is used
#   attributes that are stable, stored in one place (table), and readonly.
#   unique_id is a key to access data in table (a document in mongodb).  See
#   documentation for a full description of the concepts
Attributes:
# These are required attributes in an obspy trace object.  We keep them here
# to make that clear
  - name: npts
    type: int
    concept: Number of data samples
    aliases: nsamp wfdisc.nsamp
  - name: delta
    type: double
    concept:  Data sample interval in seconds
    aliases: dt
  - name: sampling_rate
    type: double
    concept:  Data sampling frequency in Hz=1/s
  - name: calib
    type: double
    concept: Nominal conversion factor for changing sample data to ground motion units.
  - name: net
    type: string
    concept: network code (net component of SEED net:sta:chan)
    aliases: network
    readonly: true
    unique_id:  site_id
    collection: site
  - name: sta
    type: string
    concept: station code assigned to a spot on Earth (sta component of SEED net:sta:chan)
    aliases: station site.sta sitechan.sta wf.sta KSTNM
    readonly: true
    unique_id:  site_id
    collection: site
  - name: loc
    type: string
    concept: location code assigned to an instrument (loc component of SEED net:sta:chan)
    aliases: location sitechan.loc site.loc
    readonly: true
    unique_id:  site_id
    collection: site
  - name: starttime
    type: double
    concept:  Time of first sample of data (epoch time or relative to some other time mark)
    aliases: t0 time
# These are additional attributes for the static site collection/table
  - name: site_lat
    type: double
    concept:  latitude of a seismic station/instrument in degrees
    aliases: STLA site.lat
    readonly: true
    unique_id:  site_id
    collection: site
  - name: site_lon
    type: double
    concept:  longitude of a seismic station/instrument in degrees
    aliases: STLO stlo site.lon
    readonly: true
    unique_id:  site_id
    collection: site
  - name: site_elev
    type: double
    concept:  elevation of a seismic station/instrument in km (subtract emplacement depth for borehole instruments)
    aliases: STEL stel site.elev
    readonly: true
    unique_id:  site_id
    collection: site
  - name: site_id
    type: integer
    concept:  unique identifier of a particular instrument/seismic station
    # this is not marked readonly as needs to be saved always in wf
    readonly:  false
    unique_id:  site_id
    collection:  site
# These define the css3.0 sitechan minimal Attributes
  - name: chan
    type: string
    concept:  channel name (e.g. HHZ, BHE, etc.) - normally a SEED channel code
    aliases: KCMPNM sitechan.chan
    readonly: true
    unique_id: chanid
    collection: sitechan
  - name: hang
    type: double
    concept:  Azimuth (in degree) of a seismometer component - horizontal angle
    aliases: CMPAZ sitechan.hang
    readonly: true
    unique_id: chanid
    collection: sitechan
  - name: vang
    type: double
    concept:  Inclination from +up (in degree) of a seismometer component - vertical angle
    aliases: CMPINC sitechan.vang
    readonly: true
    unique_id: chanid
    collection: sitechan
  - name: chanid
    type: integer
    concept:  unique identifier of a particular component of data
    readonly:  true
    unique_id:  chanid
    collection:  sitechan
  - name: LPSPOL
    type: boolean
    concept: True of channel components have positive polarity (SAC)
    readonly: false
# These are attributes for source data.   This schema does not support multiple
# source locations for a single seismic event.   We use source for the table name
# instead of event or origin to avoid make that clear.   An event-origin
# capability is probably possible, but would create baggage for the primary
# use goal of mspass
  - name: source_lat
    type: double
    concept: Latitude (in degrees) of the hypocenter of seismic source
    aliases:  EVLA origin.lat
    readonly: true
    unique_id: source_id
    collection: source
  - name: source_lon
    type: double
    concept: Longitude (in degrees) of the hypocenter of seismic source
    aliases:  EVLO origin.lon
    readonly: true
    unique_id: source_id
    collection: source
  - name: source_depth
    type: double
    concept: Depth (in km) of the hypocenter of seismic source
    aliases:  EVDP origin.depth
    readonly: true
    unique_id: source_id
    collection: source
  - name: source_time
    type: double
    concept: Origin time of the hypocenter of seismic source (epoch time)
    aliases:  origin.time
    readonly: true
    unique_id: source_id
    collection: source
  - name: source_id
    type: integer
    concept:  unique identifier of a particular seismic source
    # this is not marked readonly as needs to be saved always in wf
    readonly:  false
    unique_id:  source_id
    collection:  source 
    alias: evid,event.evid
  - name: orid
    type: integer
    concept:  origin id - used in CSS3.0 to handle multiple hypocenter locations of a common source
    readonly:  true
    unique_id:  souce_id
    collection:  source 
    alias: origin.orid,event.orid
  - name: KEVNM
    type: string
    concept: Event name 
    readonly: false
  - name: IEVTYP
    type:  integer
    concept:  Event type code as used in SAC
    readonly: false
BasicTimeSeries:
  - name: time_standard
    type: string
    concept:  Defines time standard for meaning of t0 of a seismogram (default should be UTC)
    readonly: false
  - name: t0_shift
    type: double
    concept: Value of a time shift applied to a standard (normally UTC standard)
    readonly: false
ThreeComponentData:
  - name: U11
    type: double
    concept:  Row 1,  column 1 of 3C data transformation matrix
    readonly: false
  - name: U21
    type: double
    concept:  Row 2,  column 1 of 3C data transformation matrix
    readonly: false
  - name: U31
    type: double
    concept:  Row 3,  column 1 of 3C data transformation matrix
    readonly: false
  - name: U12
    type: double
    concept:  Row 1,  column 2 of 3C data transformation matrix
    readonly: false
  - name: U22
    type: double
    concept:  Row 2,  column 2 of 3C data transformation matrix
    readonly: false
  - name: U32
    type: double
    concept:  Row 3,  column 2 of 3C data transformation matrix
    readonly: false
  - name: U13
    type: double
    concept:  Row 1,  column 3 of 3C data transformation matrix
    readonly: false
  - name: U23
    type: double
    concept:  Row 2,  column 3 of 3C data transformation matrix
    readonly: false
  - name: U33
    type: double
    concept:  Row 3,  column 3 of 3C data transformation matrix
    readonly: false
Magnitude:
  - name: ms
    type: double
    concept: Surface wave magnitude
    readonly: true
    unique_id: evid
    collection: source
  - name: mb
    type: double
    concept: Body wave magnitude
    readonly: true
    unique_id: evid
    collection: source
  - name: magnitude
    type: real
    concept: generic magnitude attribute
    readonly: false
    aliases: MAG
External_files:
  - name: dfile
    type: string
    concept: External data file name.
    aliases: wfdisc.dfile wfprocess.dfile
    readonly: false
  - name: dir
    type: string
    concept: Directory path to an external file (always used with dfile)
    aliases: wfdisc.dir wfprocess.dir
    readonly: false
  - name: foff
    type: int
    concept:  Offset in bytes from beginning of a file to first data sample.
    readonly: false
    aliases: wfdisc.foff wfprocess.foff
SeismicPhases:
  - name: phase
    type: string
    concept: Phase name assigned by an analyst to a pick
    readonly: false
  - name: iphase
    type: string
    concept:  Indicated phase (from CSS3.0) - phase name from travel time curve association
    readonly: false
  - name: seaz
    type: real
    concept: Station to event azimuth
    readonly: false
    aliases: BAZ
  - name: esaz
    type: real
    concept: Event to station azimuth
    readonly: false
    aliases: AZ
MongoDb:
# This set of parameters are essential for mspass, but are intimately linked to MongoDB
  - name: wfid_string
    type: string
    concept:  Holds string representation of the ObjectID used to define an unique entry in wf collection.
    readonly: false
    collection: wf
  - name: gridfs_idstr
    type: string
    concept: Holds string representation of the ObjectID used to index waveform data in gridfs_wf collection.
    readonly: false 
    collection: gridfs_wf 
  - name: storage_mode
    type: string
    concept: Provides storage options for seismic data samples.
    readonly: false
  - name: oid_site
    type: string
    concept:  String representation of ObjectId of an entry in site collection - for linking to other collections
    readonly:  false
  - name: oid_source
    type: string
    concept:  String representation of ObjectId of an entry in source collection - for linking to other collections
    readonly:  false
# These are assorted attributes that can be used in wf but have not logical 
# grouping
Other:
  - name: units
    type:  string
    concept:  Physical units of sample data (nm/s is normal assumed default)
    readonly: false
    aliases: idep,IDEP
  - name: DEPMIN
    type: real
    concept: Maximum amplitude of a signal
    readonly: false
    aliases: depmin
  - name: DEPMAX
    type: real
    concept: Minimum amplitude of a signal
    readonly: false
    aliases: depmax
  - name: DEPMEN
    type: real
    concept: Mean amplitude of a signal
    readonly: false
    aliases: depmen
  - name: jdate
    type: int
    concept: Julian date string as used in CSS3.0
    readonly: false
  - name: IZTYPE
    type: integer
    concept: Reference time type as used by SAC
    readonly: false
    aliases: TimeReferenceType
  - name: dist
    type: real
    concept: Source receiver distance
    readonly: false
    aliases: assoc.delta,GCARC
  - name: distance_units
    type: string
    concept: Units of dist attribute
    readonly: false
