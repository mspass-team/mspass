<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>mspasspy.global_history &mdash; MsPASS 0.0.1 documentation</title>
      <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="../_static/copybutton.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="../_static/jquery.js"></script>
        <script src="../_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/sphinx_highlight.js"></script>
        <script src="../_static/clipboard.min.js"></script>
        <script src="../_static/copybutton.js"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="mspasspy.graphics" href="mspasspy.graphics.html" />
    <link rel="prev" title="mspasspy.db" href="mspasspy.db.html" />  

  <style>
    .wy-nav-content { max-width: 1600px; }
  </style>

  
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../index.html" class="icon icon-home">
            MsPASS
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
    
              <p class="caption" role="heading"><span class="caption-text">Getting Started</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../getting_started/run_mspass_with_docker.html">Run MsPASS with Docker</a></li>
<li class="toctree-l1"><a class="reference internal" href="../getting_started/deploy_mspass_with_docker_compose.html">Deploy MsPASS with Docker Compose</a></li>
<li class="toctree-l1"><a class="reference internal" href="../getting_started/deploy_mspass_on_HPC.html">Deploying MsPASS on an HPC cluster</a></li>
<li class="toctree-l1"><a class="reference internal" href="../getting_started/getting_started_overview.html">MsPASS Virtual Cluster Concepts</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">User Manual</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../user_manual/introduction.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../user_manual/data_object_design_concepts.html">Data Object Design Concepts</a></li>
<li class="toctree-l1"><a class="reference internal" href="../user_manual/time_standard_constraints.html">Time Standard Constraints</a></li>
<li class="toctree-l1"><a class="reference internal" href="../user_manual/obspy_interface.html">Using ObsPy with MsPASS</a></li>
<li class="toctree-l1"><a class="reference internal" href="../user_manual/database_concepts.html">Database Concepts</a></li>
<li class="toctree-l1"><a class="reference internal" href="../user_manual/CRUD_operations.html">CRUD Operations in MsPASS</a></li>
<li class="toctree-l1"><a class="reference internal" href="../user_manual/importing_data.html">Importing Data</a></li>
<li class="toctree-l1"><a class="reference internal" href="../user_manual/handling_errors.html">Handling Errors</a></li>
<li class="toctree-l1"><a class="reference internal" href="../user_manual/data_editing.html">Data Editing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../user_manual/header_math.html">Header (Metadata) Math</a></li>
<li class="toctree-l1"><a class="reference internal" href="../user_manual/graphics.html">Graphics in MsPASS</a></li>
<li class="toctree-l1"><a class="reference internal" href="../user_manual/processing_history_concepts.html">Processing History Concepts</a></li>
<li class="toctree-l1"><a class="reference internal" href="../user_manual/parallel_processing.html">Parallel Processing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../user_manual/normalization.html">Normalization</a></li>
<li class="toctree-l1"><a class="reference internal" href="../user_manual/adapting_algorithms.html">Adapting an Existing Algorithm to MsPASS</a></li>
<li class="toctree-l1"><a class="reference internal" href="../user_manual/io.html">I/O in MsPASS</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Reference Manual</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Python API</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="mspasspy.algorithms.html">mspasspy.algorithms</a></li>
<li class="toctree-l2"><a class="reference internal" href="mspasspy.ccore.html">mspasspy.ccore</a></li>
<li class="toctree-l2"><a class="reference internal" href="mspasspy.client.html">mspasspy.client</a></li>
<li class="toctree-l2"><a class="reference internal" href="mspasspy.db.html">mspasspy.db</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">mspasspy.global_history</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#module-mspasspy.global_history.manager">manager</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#mspasspy.global_history.manager.GlobalHistoryManager"><code class="docutils literal notranslate"><span class="pre">GlobalHistoryManager</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#mspasspy.global_history.manager.mspass_dask_fold"><code class="docutils literal notranslate"><span class="pre">mspass_dask_fold()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#mspasspy.global_history.manager.mspass_dask_map"><code class="docutils literal notranslate"><span class="pre">mspass_dask_map()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#mspasspy.global_history.manager.mspass_map"><code class="docutils literal notranslate"><span class="pre">mspass_map()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#mspasspy.global_history.manager.mspass_reduce"><code class="docutils literal notranslate"><span class="pre">mspass_reduce()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#mspasspy.global_history.manager.mspass_spark_map"><code class="docutils literal notranslate"><span class="pre">mspass_spark_map()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#mspasspy.global_history.manager.mspass_spark_reduce"><code class="docutils literal notranslate"><span class="pre">mspass_spark_reduce()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#module-mspasspy.global_history.ParameterGTree">ParameterGTree</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#mspasspy.global_history.ParameterGTree.ParameterGTree"><code class="docutils literal notranslate"><span class="pre">ParameterGTree</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#mspasspy.global_history.ParameterGTree.parameter_to_GTree"><code class="docutils literal notranslate"><span class="pre">parameter_to_GTree()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#mspasspy.global_history.ParameterGTree.params_to_parameters_dict"><code class="docutils literal notranslate"><span class="pre">params_to_parameters_dict()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#mspasspy.global_history.ParameterGTree.parse_filepath_in_parameters"><code class="docutils literal notranslate"><span class="pre">parse_filepath_in_parameters()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#mspasspy.global_history.ParameterGTree.str_to_parameters_dict"><code class="docutils literal notranslate"><span class="pre">str_to_parameters_dict()</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="mspasspy.graphics.html">mspasspy.graphics</a></li>
<li class="toctree-l2"><a class="reference internal" href="mspasspy.history.html">mspasspy.history</a></li>
<li class="toctree-l2"><a class="reference internal" href="mspasspy.reduce.html">mspasspy.reduce</a></li>
<li class="toctree-l2"><a class="reference internal" href="mspasspy.util.html">mspasspy.util</a></li>
<li class="toctree-l2"><a class="reference internal" href="mspasspy.io.html">mspasspy.io</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../cxx_api/index.html">C++ API</a></li>
<li class="toctree-l1"><a class="reference internal" href="../mspass_schema/mspass_schema.html">MsPASS Schema</a></li>
</ul>

    <a href= "../genindex.html">Index</a>
  
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">MsPASS</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="index.html">Python API</a></li>
      <li class="breadcrumb-item active">mspasspy.global_history</li>
      <li class="wy-breadcrumbs-aside">
              <a href="https://github.com/mspass-team/mspass/blob/master/docs/source/python_api/mspasspy.global_history.rst" class="fa fa-github"> Edit on GitHub</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="mspasspy-global-history">
<h1>mspasspy.global_history<a class="headerlink" href="#mspasspy-global-history" title="Permalink to this heading"></a></h1>
<section id="module-mspasspy.global_history.manager">
<span id="manager"></span><h2>manager<a class="headerlink" href="#module-mspasspy.global_history.manager" title="Permalink to this heading"></a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="mspasspy.global_history.manager.GlobalHistoryManager">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">mspasspy.global_history.manager.</span></span><span class="sig-name descname"><span class="pre">GlobalHistoryManager</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">database_instance</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">job_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">collection</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/mspasspy/global_history/manager.html#GlobalHistoryManager"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#mspasspy.global_history.manager.GlobalHistoryManager" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>A Global History Mananger handler.</p>
<p>This is a handler used in the mspass_client, normally user should not directly create
a Global History Manager by his own. Instead, user should get the Global History Manager
through mspass client’s methods.</p>
<dl class="py method">
<dt class="sig sig-object py" id="mspasspy.global_history.manager.GlobalHistoryManager.get_alg_id">
<span class="sig-name descname"><span class="pre">get_alg_id</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">alg_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">parameters</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/mspasspy/global_history/manager.html#GlobalHistoryManager.get_alg_id"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#mspasspy.global_history.manager.GlobalHistoryManager.get_alg_id" title="Permalink to this definition"></a></dt>
<dd><p>Save the usage of the algorithm in the map/reduce operation</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>alg_name</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>) – the name of the algorithm</p></li>
<li><p><strong>alg_id</strong> (<a class="reference external" href="https://pymongo.readthedocs.io/en/stable/api/bson/objectid.html#bson.objectid.ObjectId" title="(in PyMongo v4.4.1)"><code class="xref py py-class docutils literal notranslate"><span class="pre">bson.objectid.ObjectId</span></code></a>) – the UUID of the combination of algorithm_name and parameters</p></li>
<li><p><strong>parameters</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>) – the parameters of the algorithm</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mspasspy.global_history.manager.GlobalHistoryManager.get_alg_list">
<span class="sig-name descname"><span class="pre">get_alg_list</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">job_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">job_id</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/mspasspy/global_history/manager.html#GlobalHistoryManager.get_alg_list"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#mspasspy.global_history.manager.GlobalHistoryManager.get_alg_list" title="Permalink to this definition"></a></dt>
<dd><p>Get a list of history records by job name(and job_id)</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>job_name</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>) – the name of the job</p></li>
<li><p><strong>job_id</strong> (<a class="reference external" href="https://pymongo.readthedocs.io/en/stable/api/bson/objectid.html#bson.objectid.ObjectId" title="(in PyMongo v4.4.1)"><code class="xref py py-class docutils literal notranslate"><span class="pre">bson.objectid.ObjectId</span></code></a>) – the UUID of the job</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mspasspy.global_history.manager.GlobalHistoryManager.logging">
<span class="sig-name descname"><span class="pre">logging</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">alg_id</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">alg_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">parameters</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/mspasspy/global_history/manager.html#GlobalHistoryManager.logging"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#mspasspy.global_history.manager.GlobalHistoryManager.logging" title="Permalink to this definition"></a></dt>
<dd><p>Save the usage of the algorithm in the map/reduce operation</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>alg_id</strong> (<a class="reference external" href="https://pymongo.readthedocs.io/en/stable/api/bson/objectid.html#bson.objectid.ObjectId" title="(in PyMongo v4.4.1)"><code class="xref py py-class docutils literal notranslate"><span class="pre">bson.objectid.ObjectId</span></code></a>) – the UUID of the combination of algorithm_name and parameters</p></li>
<li><p><strong>alg_name</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>) – the name of the algorithm</p></li>
<li><p><strong>parameters</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>) – the parameters of the algorithm</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mspasspy.global_history.manager.GlobalHistoryManager.set_alg_name_and_parameters">
<span class="sig-name descname"><span class="pre">set_alg_name_and_parameters</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">alg_id</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">alg_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">parameters</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/mspasspy/global_history/manager.html#GlobalHistoryManager.set_alg_name_and_parameters"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#mspasspy.global_history.manager.GlobalHistoryManager.set_alg_name_and_parameters" title="Permalink to this definition"></a></dt>
<dd><p>Set the alg_name and parameters by a user specified alg_id</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>alg_id</strong> (<a class="reference external" href="https://pymongo.readthedocs.io/en/stable/api/bson/objectid.html#bson.objectid.ObjectId" title="(in PyMongo v4.4.1)"><code class="xref py py-class docutils literal notranslate"><span class="pre">bson.objectid.ObjectId</span></code></a>) – the UUID of the combination of algorithm_name and parameters, used to find the records</p></li>
<li><p><strong>alg_name</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>) – the name of the algorithm user would like to set</p></li>
<li><p><strong>parameters</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>) – the parameters of the algorithm user would like to set</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="mspasspy.global_history.manager.mspass_dask_fold">
<span class="sig-prename descclassname"><span class="pre">mspasspy.global_history.manager.</span></span><span class="sig-name descname"><span class="pre">mspass_dask_fold</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">func</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">global_history</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">object_history</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">alg_id</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">alg_name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">parameters</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/mspasspy/global_history/manager.html#mspass_dask_fold"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#mspasspy.global_history.manager.mspass_dask_fold" title="Permalink to this definition"></a></dt>
<dd><blockquote>
<div><p>This decorator method add more functionaliy on the standard dask fold method and be a part of member functions
in the dask bag library. Instead of performing the normal fold function, if user provides global history manager,
alg_id(optional), alg_name(optional) and parameters(optional) as input, the global history manager will log down
the usage of the algorithm. Also, if user set object_history to be True, then each mspass object in this fold function
will save the object level history.</p>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>func</strong> – target function</p></li>
<li><p><strong>global_history</strong> (<a class="reference internal" href="#mspasspy.global_history.manager.GlobalHistoryManager" title="mspasspy.global_history.manager.GlobalHistoryManager"><code class="xref py py-class docutils literal notranslate"><span class="pre">GlobalHistoryManager</span></code></a>) – a user specified global history manager</p></li>
<li><p><strong>object_history</strong> – save the each object’s history in the fold when True</p></li>
<li><p><strong>alg_id</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>/<a class="reference external" href="https://pymongo.readthedocs.io/en/stable/api/bson/objectid.html#bson.objectid.ObjectId" title="(in PyMongo v4.4.1)"><code class="xref py py-class docutils literal notranslate"><span class="pre">bson.objectid.ObjectId</span></code></a>) – a user specified alg_id for the fold operation</p></li>
<li><p><strong>alg_name</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>) – a user specified alg_name for the fold operation</p></li>
<li><p><strong>parameters</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>) – a user specified parameters for the fold operation</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>a dask <cite>bag</cite> format of objects.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="mspasspy.global_history.manager.mspass_dask_map">
<span class="sig-prename descclassname"><span class="pre">mspasspy.global_history.manager.</span></span><span class="sig-name descname"><span class="pre">mspass_dask_map</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">func</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">global_history</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">object_history</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">alg_id</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">alg_name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">parameters</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/mspasspy/global_history/manager.html#mspass_dask_map"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#mspasspy.global_history.manager.mspass_dask_map" title="Permalink to this definition"></a></dt>
<dd><blockquote>
<div><p>This decorator method add more functionaliy on the standard dask map method and be a part of member functions
in the dask bag library. Instead of performing the normal map function, if user provides global history manager,
alg_id(optional), alg_name(optional) and parameters(optional) as input, the global history manager will log down
the usage of the algorithm. Also, if user set object_history to be True, then each mspass object in this map function
will save the object level history.</p>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>func</strong> – target function</p></li>
<li><p><strong>global_history</strong> (<a class="reference internal" href="#mspasspy.global_history.manager.GlobalHistoryManager" title="mspasspy.global_history.manager.GlobalHistoryManager"><code class="xref py py-class docutils literal notranslate"><span class="pre">GlobalHistoryManager</span></code></a>) – a user specified global history manager</p></li>
<li><p><strong>object_history</strong> – save the each object’s history in the map when True</p></li>
<li><p><strong>alg_id</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>/<a class="reference external" href="https://pymongo.readthedocs.io/en/stable/api/bson/objectid.html#bson.objectid.ObjectId" title="(in PyMongo v4.4.1)"><code class="xref py py-class docutils literal notranslate"><span class="pre">bson.objectid.ObjectId</span></code></a>) – a user specified alg_id for the map operation</p></li>
<li><p><strong>alg_name</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>) – a user specified alg_name for the map operation</p></li>
<li><p><strong>parameters</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>) – a user specified parameters for the map operation</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>a dask <cite>bag</cite> format of objects.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="mspasspy.global_history.manager.mspass_map">
<span class="sig-prename descclassname"><span class="pre">mspasspy.global_history.manager.</span></span><span class="sig-name descname"><span class="pre">mspass_map</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">func</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">global_history</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">object_history</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">alg_id</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">alg_name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">parameters</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/mspasspy/global_history/manager.html#mspass_map"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#mspasspy.global_history.manager.mspass_map" title="Permalink to this definition"></a></dt>
<dd><blockquote>
<div><p>This decorator method performs map function in Python. Instead of performing the normal map function,
if user provides global history manager, alg_id(optional), alg_name(optional) and parameters(optional)
as input, the global history manager will log down the usage of the algorithm. Also, if user set
object_history to be True, then each mspass object in this map function will save the object level history.</p>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> – a iterable which is to be mapped.</p></li>
<li><p><strong>func</strong> – target function to which map passes each element of given iterable.</p></li>
<li><p><strong>global_history</strong> (<a class="reference internal" href="#mspasspy.global_history.manager.GlobalHistoryManager" title="mspasspy.global_history.manager.GlobalHistoryManager"><code class="xref py py-class docutils literal notranslate"><span class="pre">GlobalHistoryManager</span></code></a>) – a user specified global history manager</p></li>
<li><p><strong>object_history</strong> – save the each object’s history in the map when True</p></li>
<li><p><strong>alg_id</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>/<a class="reference external" href="https://pymongo.readthedocs.io/en/stable/api/bson/objectid.html#bson.objectid.ObjectId" title="(in PyMongo v4.4.1)"><code class="xref py py-class docutils literal notranslate"><span class="pre">bson.objectid.ObjectId</span></code></a>) – a user specified alg_id for the map operation</p></li>
<li><p><strong>alg_name</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>) – a user specified alg_name for the map operation</p></li>
<li><p><strong>parameters</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>) – a user specified parameters for the map operation</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>mapped objects.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="mspasspy.global_history.manager.mspass_reduce">
<span class="sig-prename descclassname"><span class="pre">mspasspy.global_history.manager.</span></span><span class="sig-name descname"><span class="pre">mspass_reduce</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">func</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">global_history</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">object_history</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">alg_id</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">alg_name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">parameters</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/mspasspy/global_history/manager.html#mspass_reduce"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#mspasspy.global_history.manager.mspass_reduce" title="Permalink to this definition"></a></dt>
<dd><blockquote>
<div><p>This method performs reduce function using functools. Instead of performing the normal reduce function,
if user provides global history manager, alg_id(optional), alg_name(optional) and parameters(optional)
as input, the global history manager will log down the usage of the algorithm. Also, if user set
object_history to be True, then each mspass object in this reduce function will save the object level history.</p>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> – data to be processed, it needs to be a iterable. Apply func of two arguments cumulatively
to the items of iterable, from left to right, so as to reduce the iterable to a single value.</p></li>
<li><p><strong>func</strong> – target function</p></li>
<li><p><strong>global_history</strong> (<a class="reference internal" href="#mspasspy.global_history.manager.GlobalHistoryManager" title="mspasspy.global_history.manager.GlobalHistoryManager"><code class="xref py py-class docutils literal notranslate"><span class="pre">GlobalHistoryManager</span></code></a>) – a user specified global history manager</p></li>
<li><p><strong>object_history</strong> – save the each object’s history in the reduce when True</p></li>
<li><p><strong>alg_id</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>/<a class="reference external" href="https://pymongo.readthedocs.io/en/stable/api/bson/objectid.html#bson.objectid.ObjectId" title="(in PyMongo v4.4.1)"><code class="xref py py-class docutils literal notranslate"><span class="pre">bson.objectid.ObjectId</span></code></a>) – a user specified alg_id for the reduce operation</p></li>
<li><p><strong>alg_name</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>) – a user specified alg_name for the reduce operation</p></li>
<li><p><strong>parameters</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>) – a user specified parameters for the reduce operation</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>reduced objects.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="mspasspy.global_history.manager.mspass_spark_map">
<span class="sig-prename descclassname"><span class="pre">mspasspy.global_history.manager.</span></span><span class="sig-name descname"><span class="pre">mspass_spark_map</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">func</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">global_history</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">object_history</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">alg_id</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">alg_name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">parameters</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/mspasspy/global_history/manager.html#mspass_spark_map"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#mspasspy.global_history.manager.mspass_spark_map" title="Permalink to this definition"></a></dt>
<dd><blockquote>
<div><p>This decorator method add more functionaliy on the standard spark map method and be a part of member functions
in the spark RDD library. Instead of performing the normal map function, if user provides global history manager,
alg_id(optional), alg_name(optional) and parameters(optional) as input, the global history manager will log down
the usage of the algorithm. Also, if user set object_history to be True, then each mspass object in this map function
will save the object level history.</p>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>func</strong> – target function</p></li>
<li><p><strong>global_history</strong> (<a class="reference internal" href="#mspasspy.global_history.manager.GlobalHistoryManager" title="mspasspy.global_history.manager.GlobalHistoryManager"><code class="xref py py-class docutils literal notranslate"><span class="pre">GlobalHistoryManager</span></code></a>) – a user specified global history manager</p></li>
<li><p><strong>object_history</strong> – save the each object’s history in the map when True</p></li>
<li><p><strong>alg_id</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>/<a class="reference external" href="https://pymongo.readthedocs.io/en/stable/api/bson/objectid.html#bson.objectid.ObjectId" title="(in PyMongo v4.4.1)"><code class="xref py py-class docutils literal notranslate"><span class="pre">bson.objectid.ObjectId</span></code></a>) – a user specified alg_id for the map operation</p></li>
<li><p><strong>alg_name</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>) – a user specified alg_name for the map operation</p></li>
<li><p><strong>parameters</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>) – a user specified parameters for the map operation</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>a spark <cite>RDD</cite> format of objects.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="mspasspy.global_history.manager.mspass_spark_reduce">
<span class="sig-prename descclassname"><span class="pre">mspasspy.global_history.manager.</span></span><span class="sig-name descname"><span class="pre">mspass_spark_reduce</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">func</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">global_history</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">object_history</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">alg_id</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">alg_name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">parameters</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/mspasspy/global_history/manager.html#mspass_spark_reduce"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#mspasspy.global_history.manager.mspass_spark_reduce" title="Permalink to this definition"></a></dt>
<dd><blockquote>
<div><p>This decorator method add more functionaliy on the standard spark reduce method and be a part of member functions
in the spark RDD library. Instead of performing the normal reduce function, if user provides global history manager,
alg_id(optional), alg_name(optional) and parameters(optional) as input, the global history manager will log down
the usage of the algorithm. Also, if user set object_history to be True, then each mspass object in this reduce function
will save the object level history.</p>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>func</strong> – target function</p></li>
<li><p><strong>global_history</strong> (<a class="reference internal" href="#mspasspy.global_history.manager.GlobalHistoryManager" title="mspasspy.global_history.manager.GlobalHistoryManager"><code class="xref py py-class docutils literal notranslate"><span class="pre">GlobalHistoryManager</span></code></a>) – a user specified global history manager</p></li>
<li><p><strong>object_history</strong> – save the each object’s history in the reduce when True</p></li>
<li><p><strong>alg_id</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>/<a class="reference external" href="https://pymongo.readthedocs.io/en/stable/api/bson/objectid.html#bson.objectid.ObjectId" title="(in PyMongo v4.4.1)"><code class="xref py py-class docutils literal notranslate"><span class="pre">bson.objectid.ObjectId</span></code></a>) – a user specified alg_id for the reduce operation</p></li>
<li><p><strong>alg_name</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>) – a user specified alg_name for the reduce operation</p></li>
<li><p><strong>parameters</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>) – a user specified parameters for the reduce operation</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>a spark <cite>RDD</cite> format of objects.</p>
</dd>
</dl>
</dd></dl>

</section>
<section id="module-mspasspy.global_history.ParameterGTree">
<span id="parametergtree"></span><h2>ParameterGTree<a class="headerlink" href="#module-mspasspy.global_history.ParameterGTree" title="Permalink to this heading"></a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="mspasspy.global_history.ParameterGTree.ParameterGTree">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">mspasspy.global_history.ParameterGTree.</span></span><span class="sig-name descname"><span class="pre">ParameterGTree</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">doc</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/mspasspy/global_history/ParameterGTree.html#ParameterGTree"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#mspasspy.global_history.ParameterGTree.ParameterGTree" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">OrderedDict</span></code></p>
<p>Base class for family of objects used to hold an abstraction of a
set of control parameters for a data processing function.   The
base class abstracts the concept of storing such data in an g-tree
structure.  In the documentation here the tree should be pictures as
upright in the biological tree analog. i.e. up mean higher levels in
the tree and down means dropping to lower levels in the tree.</p>
<p>This class is inherited from collections.OrderedDict, so users can get
access to the data using common index operation, for example:
gTree[‘phases’][‘travel_time_calculator’][‘taup’][‘model_name’]
In addition, user can operate adding, deleting, updating, creating in
the same way as the operations on OrderedDict.</p>
<p>Each node of the g-tree may have leaves and/or a set
of branches.   Most simple algorithms need only one node with leaves
made up of name-value pairs.  More complex algorithms often need
the tree structure to describe more complicated data control structures.</p>
<dl class="py method">
<dt class="sig sig-object py" id="mspasspy.global_history.ParameterGTree.ParameterGTree.asdict">
<span class="sig-name descname"><span class="pre">asdict</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/mspasspy/global_history/ParameterGTree.html#ParameterGTree.asdict"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#mspasspy.global_history.ParameterGTree.ParameterGTree.asdict" title="Permalink to this definition"></a></dt>
<dd><p>Return the dictionary representation of the ParameterGTree instance.
This function will first update the internal dictionary control doc.
Its return can be a build-in dict or a collections.OrderedDict,
according to the input when building this GTree.</p>
<p>Since ParameterGTree is inheritted from OrderedDict, an instance can be
directed transfered into a dict/OrderedDict without calling this function.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mspasspy.global_history.ParameterGTree.ParameterGTree.get">
<span class="sig-name descname"><span class="pre">get</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">key</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">seperator</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'.'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/mspasspy/global_history/ParameterGTree.html#ParameterGTree.get"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#mspasspy.global_history.ParameterGTree.ParameterGTree.get" title="Permalink to this definition"></a></dt>
<dd><p>Fetch a value defined by key.  For leaves at the root node the
key can be a simple string.  For a leaf attached at a higher level node
we specify a chain of one or more branch names with keys between
the specified seperator.  Examples (all used default value of seperator):
1.  If we had a leaf node with the key ‘name’ under the branch name</p>
<blockquote>
<div><p>‘phases’ we use the compound key ‘phases.name’. Such a tag could, for
example, contain ‘P’ for the seismic to define this set of parameters
as related to the P phase.</p>
</div></blockquote>
<ol class="arabic simple" start="2">
<li><p>Suppose the phases branch was linked to higher level branch with
the key ‘travel_time_calculator’ that had a leaf parameter ‘taup’
that is itself a branch name with terminal leaf keys under it.
A real life example might be ‘model_name’.  We would refer to that
leaf with the string ‘phases.travel_time_calculator.taup.model_name’.
That key might, for example, have he value ‘iasp91’ which could be
passed to obspy’s taup calculator.</p></li>
</ol>
<p>This method should also support key defined as a python list.   The list
would need to be a set of keys that would define the path to climb the
tree to fetch the desired leaf.  For this form the two examples above
would be represented as follows:
1.  [‘phases’,’name’]
2.  [‘phases’,’travel_time_calculator’,’taup’,’model_name’]</p>
<p>Users can also use the build-in index operation to access the children elements,
which is more natural.
for example:
1.  [‘phases’][‘name’]
2.  [‘phases’][‘travel_time_calculator’][‘taup’][‘model_name’]</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mspasspy.global_history.ParameterGTree.ParameterGTree.get_branch">
<span class="sig-name descname"><span class="pre">get_branch</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">key</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/mspasspy/global_history/ParameterGTree.html#ParameterGTree.get_branch"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#mspasspy.global_history.ParameterGTree.ParameterGTree.get_branch" title="Permalink to this definition"></a></dt>
<dd><p>Extract the contents of a named branch.  Returns a copy of the tree
with the associated key from the branch name upward.  The tree
returned will have the root of the tree set as current.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mspasspy.global_history.ParameterGTree.ParameterGTree.get_branch_keys">
<span class="sig-name descname"><span class="pre">get_branch_keys</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/mspasspy/global_history/ParameterGTree.html#ParameterGTree.get_branch_keys"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#mspasspy.global_history.ParameterGTree.ParameterGTree.get_branch_keys" title="Permalink to this definition"></a></dt>
<dd><p>Return the keys for all branches from this level.   Branches are keyed with a keyword
string like leaves.  Branches can be extracted with prune or we can
walk the tree with a set of methods defined below.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mspasspy.global_history.ParameterGTree.ParameterGTree.get_leaf">
<span class="sig-name descname"><span class="pre">get_leaf</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">key</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/mspasspy/global_history/ParameterGTree.html#ParameterGTree.get_leaf"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#mspasspy.global_history.ParameterGTree.ParameterGTree.get_leaf" title="Permalink to this definition"></a></dt>
<dd><p>Returns a copy of the key-value pair defined by key.
This function only search for the key in this layer, and won’t return
value stored in higher levels.
To search in the entire tree, use “get”.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mspasspy.global_history.ParameterGTree.ParameterGTree.get_leaf_keys">
<span class="sig-name descname"><span class="pre">get_leaf_keys</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/mspasspy/global_history/ParameterGTree.html#ParameterGTree.get_leaf_keys"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#mspasspy.global_history.ParameterGTree.ParameterGTree.get_leaf_keys" title="Permalink to this definition"></a></dt>
<dd><p>Return the keys for all key-value pairs that are leaves at the current
level of the parameter tree.   For branches this method can be used
to extract leaves at the current level. Return is a dict of key-value
pairs that we are calling the leaves of the tree.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mspasspy.global_history.ParameterGTree.ParameterGTree.prune">
<span class="sig-name descname"><span class="pre">prune</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">key</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/mspasspy/global_history/ParameterGTree.html#ParameterGTree.prune"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#mspasspy.global_history.ParameterGTree.ParameterGTree.prune" title="Permalink to this definition"></a></dt>
<dd><p>Remove a branch or leaf defined by key from self. Return a copy of the
branch/leaf pruned in the process (like get_branch/get_leaf but self is altered)</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mspasspy.global_history.ParameterGTree.ParameterGTree.put">
<span class="sig-name descname"><span class="pre">put</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">key</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">value</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">separator</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'.'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/mspasspy/global_history/ParameterGTree.html#ParameterGTree.put"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#mspasspy.global_history.ParameterGTree.ParameterGTree.put" title="Permalink to this definition"></a></dt>
<dd><p>putter with same behavior for compound keys defined for get method.
A put would create a new branch it implies if that branch is not
already present.</p>
<p>Same as the setter function, users can also use index to put new
data in GTree here. Please note that when put data using indexes,
new branches won’t be created automatically, and users should add the
intermediate branches themselves.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mspasspy.global_history.ParameterGTree.ParameterGTree.update_control">
<span class="sig-name descname"><span class="pre">update_control</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/mspasspy/global_history/ParameterGTree.html#ParameterGTree.update_control"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#mspasspy.global_history.ParameterGTree.ParameterGTree.update_control" title="Permalink to this definition"></a></dt>
<dd><p>Update the control doc according to the children in this level.
As the hierarchy data may change in deeper level, so we need to check
every sub tree. It is implemented by recursively updating the control
doc of a tree.</p>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="mspasspy.global_history.ParameterGTree.parameter_to_GTree">
<span class="sig-prename descclassname"><span class="pre">mspasspy.global_history.ParameterGTree.</span></span><span class="sig-name descname"><span class="pre">parameter_to_GTree</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">parameters_str</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/mspasspy/global_history/ParameterGTree.html#parameter_to_GTree"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#mspasspy.global_history.ParameterGTree.parameter_to_GTree" title="Permalink to this definition"></a></dt>
<dd><blockquote>
<div><p>A helper function to parse parameters and build a GTree accordingly. This function would
be used in GlobalHistoryManager to help record the parameters.</p>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>args</strong> – Non-keyworded arguments</p></li>
<li><p><strong>kwargs</strong> – Keyworded arguments</p></li>
<li><p><strong>parameter_str</strong> – a parameter string defined by user</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>An OrderedDict of parameters and arguments.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="mspasspy.global_history.ParameterGTree.params_to_parameters_dict">
<span class="sig-prename descclassname"><span class="pre">mspasspy.global_history.ParameterGTree.</span></span><span class="sig-name descname"><span class="pre">params_to_parameters_dict</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/mspasspy/global_history/ParameterGTree.html#params_to_parameters_dict"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#mspasspy.global_history.ParameterGTree.params_to_parameters_dict" title="Permalink to this definition"></a></dt>
<dd><blockquote>
<div><p>Capture a function’s parameters, return a dict that stores parameters and arguments.
Filepath arguments will be parsed into python object, and then turned into a dict. Now we support pf files
and yaml files.</p>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>args</strong> – Non-keyworded arguments</p></li>
<li><p><strong>kwargs</strong> – Keyworded arguments</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>An OrderedDict of parameters and arguments.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="mspasspy.global_history.ParameterGTree.parse_filepath_in_parameters">
<span class="sig-prename descclassname"><span class="pre">mspasspy.global_history.ParameterGTree.</span></span><span class="sig-name descname"><span class="pre">parse_filepath_in_parameters</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">parameters_dict</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/mspasspy/global_history/ParameterGTree.html#parse_filepath_in_parameters"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#mspasspy.global_history.ParameterGTree.parse_filepath_in_parameters" title="Permalink to this definition"></a></dt>
<dd><blockquote>
<div><p>Parse the filepath parameters in a function’s parameters dict,
Filepath arguments will be parsed into python object, and then turned into a dict.
Currently we support pf files and yaml files.</p>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>parameters_dict</strong> – parameter dict of a function</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>An OrderedDict of parameters and arguments.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="mspasspy.global_history.ParameterGTree.str_to_parameters_dict">
<span class="sig-prename descclassname"><span class="pre">mspasspy.global_history.ParameterGTree.</span></span><span class="sig-name descname"><span class="pre">str_to_parameters_dict</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">parameter_str</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/mspasspy/global_history/ParameterGTree.html#str_to_parameters_dict"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#mspasspy.global_history.ParameterGTree.str_to_parameters_dict" title="Permalink to this definition"></a></dt>
<dd><blockquote>
<div><p>Parse the parameter string defined by user into an ordered dict.
The input str should be in the format like “a, b, c=d, e=f, …”</p>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>parameter_str</strong> – a parameter string defined by user</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>An OrderedDict of parameters and arguments.</p>
</dd>
</dl>
</dd></dl>

</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="mspasspy.db.html" class="btn btn-neutral float-left" title="mspasspy.db" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="mspasspy.graphics.html" class="btn btn-neutral float-right" title="mspasspy.graphics" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2020-2021, Ian Wang.</p>
  </div>

   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>