<!DOCTYPE html>
<html class="writer-html5" lang="en">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Graphics in MsPASS &mdash; MsPASS 0.0.1 documentation</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=80d5e7a1" />
      <link rel="stylesheet" type="text/css" href="../_static/css/theme.css?v=19f00094" />
      <link rel="stylesheet" type="text/css" href="../_static/copybutton.css?v=76b2166b" />

  
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="../_static/jquery.js?v=5d32c60e"></script>
        <script src="../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
        <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js?v=f6245a2f"></script>
        <script src="../_static/doctools.js?v=888ff710"></script>
        <script src="../_static/sphinx_highlight.js?v=4825356b"></script>
        <script src="../_static/clipboard.min.js?v=a7894cd8"></script>
        <script src="../_static/copybutton.js?v=f281be69"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Signal to Noise Ratio Estimation" href="signal_to_noise.html" />
    <link rel="prev" title="Header (Metadata) Math" href="header_math.html" />  

  <style>
    .wy-nav-content { max-width: 1600px; }
  </style>

  
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../index.html" class="icon icon-home">
            MsPASS
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
    
              <p class="caption" role="heading"><span class="caption-text">Getting Started</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../getting_started/quick_start.html">Getting Started in a Nutshell</a></li>
<li class="toctree-l1"><a class="reference internal" href="../getting_started/run_mspass_with_docker.html">Run MsPASS with Docker</a></li>
<li class="toctree-l1"><a class="reference internal" href="../getting_started/deploy_mspass_with_docker_compose.html">Deploy MsPASS with Docker Compose</a></li>
<li class="toctree-l1"><a class="reference internal" href="../getting_started/deploy_mspass_on_HPC.html">Deploying MsPASS on an HPC cluster</a></li>
<li class="toctree-l1"><a class="reference internal" href="../getting_started/getting_started_overview.html">MsPASS Virtual Cluster Concepts</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Introduction</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="introduction.html">Introduction</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Data Management</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="database_concepts.html">Database Concepts</a></li>
<li class="toctree-l1"><a class="reference internal" href="CRUD_operations.html">CRUD Operations in MsPASS</a></li>
<li class="toctree-l1"><a class="reference internal" href="mongodb_and_mspass.html">Using MongoDB with MsPASS</a></li>
<li class="toctree-l1"><a class="reference internal" href="normalization.html">Normalization</a></li>
<li class="toctree-l1"><a class="reference internal" href="importing_tabular_data.html">Importing Tabular Data</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Seismic Data Objects</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="data_object_design_concepts.html">Data Object Design Concepts</a></li>
<li class="toctree-l1"><a class="reference internal" href="numpy_scipy_interface.html">Using numpy/scipy with MsPASS</a></li>
<li class="toctree-l1"><a class="reference internal" href="obspy_interface.html">Using ObsPy with MsPASS</a></li>
<li class="toctree-l1"><a class="reference internal" href="time_standard_constraints.html">Time Standard Constraints</a></li>
<li class="toctree-l1"><a class="reference internal" href="processing_history_concepts.html">Processing History Concepts</a></li>
<li class="toctree-l1"><a class="reference internal" href="continuous_data.html">Continuous Data Handling with MsPASS</a></li>
<li class="toctree-l1"><a class="reference internal" href="schema_choices.html">What database schema should I use?</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Data Processing</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="algorithms.html">Algorithms</a></li>
<li class="toctree-l1"><a class="reference internal" href="importing_data.html">Importing Data</a></li>
<li class="toctree-l1"><a class="reference internal" href="handling_errors.html">Handling Errors</a></li>
<li class="toctree-l1"><a class="reference internal" href="data_editing.html">Data Editing</a></li>
<li class="toctree-l1"><a class="reference internal" href="header_math.html">Header (Metadata) Math</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Graphics in MsPASS</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#overview">Overview</a></li>
<li class="toctree-l2"><a class="reference internal" href="#matplotlib-graphics">Matplotlib graphics</a></li>
<li class="toctree-l2"><a class="reference internal" href="#native-graphics">Native Graphics</a></li>
<li class="toctree-l2"><a class="reference internal" href="#obspy-graphics">Obspy Graphics</a></li>
<li class="toctree-l2"><a class="reference internal" href="#extending-mspass-graphics">Extending MsPASS Graphics</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="signal_to_noise.html">Signal to Noise Ratio Estimation</a></li>
<li class="toctree-l1"><a class="reference internal" href="adapting_algorithms.html">Adapting an Existing Algorithm to MsPASS</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">System Tuning</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="parallel_processing.html">Parallel Processing</a></li>
<li class="toctree-l1"><a class="reference internal" href="memory_management.html">Memory Management</a></li>
<li class="toctree-l1"><a class="reference internal" href="io.html">I/O in MsPASS</a></li>
<li class="toctree-l1"><a class="reference internal" href="parallel_io.html">Parallel IO in MsPASS</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">FAQ</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="FAQ.html">Frequency Asked Questions (FAQ)</a></li>
<li class="toctree-l1"><a class="reference internal" href="development_strategies.html">How do I develop a new workflow from scratch?</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Reference Manual</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../python_api/index.html">Python API</a></li>
<li class="toctree-l1"><a class="reference internal" href="../cxx_api/index.html">C++ API</a></li>
<li class="toctree-l1"><a class="reference internal" href="../mspass_schema/mspass_schema.html">MsPASS Schema</a></li>
</ul>

    <a href= "../genindex.html">Index</a>
  
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">MsPASS</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">Graphics in MsPASS</li>
      <li class="wy-breadcrumbs-aside">
              <a href="https://github.com/mspass-team/mspass/blob/master/docs/source/user_manual/graphics.rst" class="fa fa-github"> Edit on GitHub</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="graphics-in-mspass">
<span id="graphics"></span><h1>Graphics in MsPASS<a class="headerlink" href="#graphics-in-mspass" title="Permalink to this heading"></a></h1>
<section id="overview">
<h2>Overview<a class="headerlink" href="#overview" title="Permalink to this heading"></a></h2>
<p>Data visualization, in general, and graphics to visualize seismic data,
in particular, are critical elements to understand data and the
result of a processing workflow.   On the other hand, because of the
importance of graphical presentation there are a huge number of packages
available today to create various types of graphics.   The main goal of
MsPASS is a framework to support parallel processing to make previously
unfeasible data sets and/or algorithms feasible.  Consequently, in our
initial development we aimed to provide only basic support for graphics
of native data types.  Users should understand that custom graphics beyond our
basic support support is the user’s responsibility.  Because of the
large number of options in existence we believe that is reasonable compromise
with finite resources.</p>
<p>The current support for graphics has three component.</p>
<ol class="arabic simple">
<li><p>The lowest level support is to use the commonly used package
called <a href="#id5"><span class="problematic" id="id6">`matplotlib&lt;https://matplotlib.org/&gt;`__</span></a>.   Because the
sample arrays of all seismic objects act like numpy arrays that
is often the simplest mechanism to make a quick plot.  The basics of
that approach are described below.</p></li>
<li><p>We have plotting classes called <code class="code docutils literal notranslate"><span class="pre">SeismicPlotter</span></code>
and <code class="code docutils literal notranslate"><span class="pre">Sectionplotter</span></code> to plot our native data types.</p></li>
<li><p>As noted elsewhere a core component of MsPASS are fast conversions routines
to and from obspy’s native data types (<code class="code docutils literal notranslate"><span class="pre">Trace</span></code> and <code class="code docutils literal notranslate"><span class="pre">Stream</span></code>).
That is relevant because obspy’s native data types have integrated
plot methods that produce wiggle trace plots of seismic data using the
matplotlib library.  That is an alternative to making custom
matplotlib plots from primitives - item 1.</p></li>
</ol>
</section>
<section id="matplotlib-graphics">
<h2>Matplotlib graphics<a class="headerlink" href="#matplotlib-graphics" title="Permalink to this heading"></a></h2>
<p>Because data vectors of
<a class="reference internal" href="../python_api/mspasspy.ccore.html#mspasspy.ccore.seismic.TimeSeries" title="mspasspy.ccore.seismic.TimeSeries"><code class="xref py py-func docutils literal notranslate"><span class="pre">mspasspy.ccore.seismic.TimeSeries()</span></code></a> and
<a class="reference internal" href="../python_api/mspasspy.ccore.html#mspasspy.ccore.seismic.Seismogram" title="mspasspy.ccore.seismic.Seismogram"><code class="xref py py-func docutils literal notranslate"><span class="pre">mspasspy.ccore.seismic.Seismogram()</span></code></a> objects
act like numpy arrays the symbol defining the data vector
can be passed directly to matplotlib low-level plotters.
Here, for example, is a code fragment that would plot the
data in a <a class="reference internal" href="../python_api/mspasspy.ccore.html#mspasspy.ccore.seismic.TimeSeries" title="mspasspy.ccore.seismic.TimeSeries"><code class="xref py py-func docutils literal notranslate"><span class="pre">mspasspy.ccore.seismic.TimeSeries()</span></code></a> object
with a simple wiggle plot and a time axis with 0 defined as start time.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="o">...</span> <span class="n">other</span> <span class="n">code</span> <span class="n">here</span> <span class="n">to</span> <span class="n">define</span> <span class="n">d</span> <span class="k">as</span> <span class="n">a</span> <span class="n">TimeSeries</span> <span class="o">...</span>
<span class="n">d_shifted</span> <span class="o">=</span> <span class="n">ator</span><span class="p">(</span><span class="n">d</span><span class="p">,</span><span class="n">d</span><span class="o">.</span><span class="n">t0</span><span class="p">)</span>
<span class="n">t</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">(</span><span class="n">d_shifted</span><span class="o">.</span><span class="n">npts</span><span class="p">)</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">d_shifted</span><span class="o">.</span><span class="n">npts</span><span class="p">):</span>
  <span class="n">t</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">d_shifted</span><span class="o">.</span><span class="n">time</span><span class="p">()</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">t</span><span class="p">,</span><span class="n">d_shifted</span><span class="o">.</span><span class="n">data</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
<p>Similarly, one way to plot a <a class="reference internal" href="../python_api/mspasspy.ccore.html#mspasspy.ccore.seismic.Seismogram" title="mspasspy.ccore.seismic.Seismogram"><code class="xref py py-func docutils literal notranslate"><span class="pre">mspasspy.ccore.seismic.Seismogram()</span></code></a>
object is the following with subplots:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="o">...</span> <span class="n">other</span> <span class="n">code</span> <span class="n">here</span> <span class="n">to</span> <span class="n">define</span> <span class="n">d</span> <span class="k">as</span> <span class="n">a</span> <span class="n">TimeSeries</span> <span class="o">...</span>
<span class="n">d_shifted</span> <span class="o">=</span> <span class="n">ator</span><span class="p">(</span><span class="n">d</span><span class="p">,</span><span class="n">d</span><span class="o">.</span><span class="n">t0</span><span class="p">)</span>
<span class="n">t</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">(</span><span class="n">d_shifted</span><span class="o">.</span><span class="n">npts</span><span class="p">)</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">d_shifted</span><span class="o">.</span><span class="n">npts</span><span class="p">):</span>
  <span class="n">t</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">d_shifted</span><span class="o">.</span><span class="n">time</span><span class="p">()</span>
<span class="n">fig</span><span class="p">,</span><span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">3</span><span class="p">):</span>
  <span class="n">ax</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">t</span><span class="p">,</span><span class="n">d_shifted</span><span class="o">.</span><span class="n">data</span><span class="p">[</span><span class="n">i</span><span class="p">,:])</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
<p>A few comments about these examples:</p>
<ol class="arabic simple">
<li><p>Both use the ator method to shift the time base so 0 is the data
starttime.  Without that step the time axis would be useless as it
would be in epoch times, which are huge numbers.</p></li>
<li><p>Both define the time axis manually using a loop and the
<code class="code docutils literal notranslate"><span class="pre">time</span></code> method common to both <code class="code docutils literal notranslate"><span class="pre">TimeSeries</span></code> and
<code class="code docutils literal notranslate"><span class="pre">Seismogram</span></code>.   We have considered adding a
<code class="code docutils literal notranslate"><span class="pre">time_axis</span></code> method to the API, but the example shows it
would be so trivial we viewed it unnecessary baggage for the API.</p></li>
<li><p>Note there are many options in matplotlib that could be used to
enhance this plot.  e.g. axis labels, a title, using UTC dates strings
for the time axis for long records, different symbol styles, etc.
The point is that for custom plots matplotlib provides all the tools
you are likely to need.  In fact, the MsPASS graphics module
itself uses matplotlib.</p></li>
</ol>
</section>
<section id="native-graphics">
<h2>Native Graphics<a class="headerlink" href="#native-graphics" title="Permalink to this heading"></a></h2>
<p>The goal of the graphics module in MsPASS was to
provide simple tools to plot native data types.  We thousands first remind
the user what is considered “native data” in MsPASS.  They are:
(1) <code class="code docutils literal notranslate"><span class="pre">TimeSeries</span></code> objects are scalar, uniformly sampled seismic
seismic signals (a single channel), (2) <code class="code docutils literal notranslate"><span class="pre">Seismogram</span></code> objects are
bundled three-component seismic data, and (3) <code class="code docutils literal notranslate"><span class="pre">TimeSeriesEnsemble</span></code> and
<code class="code docutils literal notranslate"><span class="pre">SeismogramEnsemble</span></code> objects are logical groupings of the two
“atomic” objects in their names.</p>
<p>The second issue is what types of plots are most essential?   Our core
graphics support two plot conventions:</p>
<ol class="arabic simple">
<li><p><code class="code docutils literal notranslate"><span class="pre">SeismicPlotter</span></code> plots data in the standard convention used to plot
nearly all earthquake data.  <code class="code docutils literal notranslate"><span class="pre">SeismicPlotter</span></code> plots data with
time as the x (horizontal axis).</p></li>
<li><p><code class="code docutils literal notranslate"><span class="pre">SectionPlotter</span></code> plots data in the standard convention for seismic
reflection data.  Because with seismic reflection data normal moveout
corrected time is a proxy for depth it is universal to plot time
as the y axis (vertical) and running backward from the normal
mathematical graphic convention.   i.e. time is always plotted with
0 at the top of the plot and the longest travel time at the bottom of
the plot.</p></li>
</ol>
<p>There are also a number of common ways to plot seismic data.   Our graphics
classes support the four most common methods:</p>
<ol class="arabic simple">
<li><p>Many seismologists prefer the simple <code class="code docutils literal notranslate"><span class="pre">wiggle</span> <span class="pre">trace</span> <span class="pre">(wt)</span></code> plot for
displaying earthquake signals.  As the name implies the plot is a line
graphic of the signal.</p></li>
<li><p>The traditional standard plot method for reflection data is usually called a
<code class="code docutils literal notranslate"><span class="pre">wiggle</span> <span class="pre">trace</span> <span class="pre">variable</span> <span class="pre">area</span> <span class="pre">(wtva)</span></code> plot.  As the name implies such plots are
first a wiggle trace plot, but the plot adds a “variable area”.  The
“variable area” term means you fill positive values with a color.
Traditional plots from past when paper records were the norm is black but
other colors are common in published papers today.  Our plotting
classes allow changing the fill to any color.</p></li>
<li><p><code class="code docutils literal notranslate"><span class="pre">image</span> <span class="pre">plot</span> <span class="pre">(img)</span></code> graphics have been the norm in plotting reflection data since
at least the 1990s.  An image plot uses a color map scaled by amplitude.
These plots are most appropriate for data that are like modern reflection data:
the data density is high and there is a strong correlation between
signals plotted side-by-side.</p></li>
<li><p>The most complicated plot is what we call a
<code class="code docutils literal notranslate"><span class="pre">wiggle</span> <span class="pre">trace</span> <span class="pre">variable</span> <span class="pre">area</span> <span class="pre">with</span> <span class="pre">image</span> <span class="pre">overlay</span> <span class="pre">(wtvaimg)</span></code> plot.
The best way to understand this plot, and in fact is exactly how it is
produced, is first plot the data as an image plot and then overlay a
wiggle trace variable area plot.  It is most appropriate for data that
have similar waveforms but have a density low enough to resolve the
individual wiggle traces.</p></li>
</ol>
<p>Below are examples of all four types of plots from our graphics tutorial.
For details of the API and how to use our plotting capabilities is
to run that tutorial and review the sphynx documentation on the
<a class="reference internal" href="../python_api/mspasspy.graphics.html#module-mspasspy.graphics" title="mspasspy.graphics"><code class="xref py py-mod docutils literal notranslate"><span class="pre">mspasspy.graphics</span></code></a> module.</p>
<figure class="align-center" id="id1">
<span id="wt-figure"></span><a class="reference internal image-reference" href="../_images/wt_example.png"><img alt="../_images/wt_example.png" src="../_images/wt_example.png" style="width: 600px;" /></a>
<figcaption>
<p><span class="caption-number">Fig. 9 </span><span class="caption-text">Figure 1. Example of wiggle trace plot created by
<a class="reference internal" href="../python_api/mspasspy.graphics.html#mspasspy.graphics.SeismicPlotter" title="mspasspy.graphics.SeismicPlotter"><code class="xref py py-class docutils literal notranslate"><span class="pre">mspasspy.graphics.SeismicPlotter</span></code></a>.  This type of plot
is created with the “style” set to “wt”.
(Set with <a class="reference internal" href="../python_api/mspasspy.graphics.html#mspasspy.graphics.SeismicPlotter.change_style" title="mspasspy.graphics.SeismicPlotter.change_style"><code class="xref py py-meth docutils literal notranslate"><span class="pre">mspasspy.graphics.SeismicPlotter.change_style()</span></code></a> method)</span><a class="headerlink" href="#id1" title="Permalink to this image"></a></p>
</figcaption>
</figure>
<figure class="align-center" id="id2">
<span id="wtva-figure"></span><a class="reference internal image-reference" href="../_images/wtva_example.png"><img alt="../_images/wtva_example.png" src="../_images/wtva_example.png" style="width: 600px;" /></a>
<figcaption>
<p><span class="caption-number">Fig. 10 </span><span class="caption-text">Figure 2.  Example of wiggle variable area trace plot created by
<a class="reference internal" href="../python_api/mspasspy.graphics.html#mspasspy.graphics.SeismicPlotter" title="mspasspy.graphics.SeismicPlotter"><code class="xref py py-class docutils literal notranslate"><span class="pre">mspasspy.graphics.SeismicPlotter</span></code></a>.  The data plotted
are the same as Figure 1.  This type of plot
is created with the “style” set to “wtva”
(Set with <a class="reference internal" href="../python_api/mspasspy.graphics.html#mspasspy.graphics.SeismicPlotter.change_style" title="mspasspy.graphics.SeismicPlotter.change_style"><code class="xref py py-meth docutils literal notranslate"><span class="pre">mspasspy.graphics.SeismicPlotter.change_style()</span></code></a> method)</span><a class="headerlink" href="#id2" title="Permalink to this image"></a></p>
</figcaption>
</figure>
<figure class="align-center" id="id3">
<span id="wtvaimg-figure"></span><a class="reference internal image-reference" href="../_images/wtvaimg_example.png"><img alt="../_images/wtvaimg_example.png" src="../_images/wtvaimg_example.png" style="width: 600px;" /></a>
<figcaption>
<p><span class="caption-number">Fig. 11 </span><span class="caption-text">Figure 3.  Example of wiggle trace variable area with an image overlay created by
<a class="reference internal" href="../python_api/mspasspy.graphics.html#mspasspy.graphics.SeismicPlotter" title="mspasspy.graphics.SeismicPlotter"><code class="xref py py-class docutils literal notranslate"><span class="pre">mspasspy.graphics.SeismicPlotter</span></code></a>.  The data plotted
are the same as Figure 1.  This type of plot
is created with the “style” set to “wtvaimg”.
(Set with <a class="reference internal" href="../python_api/mspasspy.graphics.html#mspasspy.graphics.SeismicPlotter.change_style" title="mspasspy.graphics.SeismicPlotter.change_style"><code class="xref py py-meth docutils literal notranslate"><span class="pre">mspasspy.graphics.SeismicPlotter.change_style()</span></code></a> method)</span><a class="headerlink" href="#id3" title="Permalink to this image"></a></p>
</figcaption>
</figure>
<figure class="align-center" id="id4">
<span id="img-figure"></span><a class="reference internal image-reference" href="../_images/img_example.png"><img alt="../_images/img_example.png" src="../_images/img_example.png" style="width: 600px;" /></a>
<figcaption>
<p><span class="caption-number">Fig. 12 </span><span class="caption-text">Figure 4.  Example of image plot created by
<a class="reference internal" href="../python_api/mspasspy.graphics.html#mspasspy.graphics.SeismicPlotter" title="mspasspy.graphics.SeismicPlotter"><code class="xref py py-class docutils literal notranslate"><span class="pre">mspasspy.graphics.SeismicPlotter</span></code></a>.  The data plotted
are the same as Figure 1.  This type of plot
is created with the “style” set to “img”.
(Set with <a class="reference internal" href="../python_api/mspasspy.graphics.html#mspasspy.graphics.SeismicPlotter.change_style" title="mspasspy.graphics.SeismicPlotter.change_style"><code class="xref py py-meth docutils literal notranslate"><span class="pre">mspasspy.graphics.SeismicPlotter.change_style()</span></code></a> method)</span><a class="headerlink" href="#id4" title="Permalink to this image"></a></p>
</figcaption>
</figure>
<p>Finally, we would note that the plotters automatically handle switching to
plot all the standard MsPASS data objects.   Some implementation details
we note are:</p>
<ol class="arabic simple">
<li><p><code class="code docutils literal notranslate"><span class="pre">TimeSeries</span></code>  data generate one plot frame with a time axis and
a y axis of amplitude.</p></li>
<li><p><code class="code docutils literal notranslate"><span class="pre">Seismogram</span></code> data are displayed on one plot frame.  The three
components are plotted at equal y intervals in SeismicPlotter
(equal x intervals in SectionPlotter) with the x1, x2, x3 components arranged
from the bottom up (left to right for SectionPlotter).   There is an option
for both types of plots to reverse the order.</p></li>
<li><p><code class="code docutils literal notranslate"><span class="pre">TimeSeriesEnsmble</span></code> data in a SeismicPlotter plot are plotted
at equal intervals from the bottom up (i.e. member[0] is at the bottom)
of the plot and the last member is a the top.   Similarly, the
SectionPlotter plots members at equal intervals ordered from left to right.
As with the Seismogram plot the order can be flipped.  We currently have
no support for variable spacing of plots used, for example, to plot
record sections.   We recommend using other packages for that purpose.</p></li>
<li><p><code class="code docutils literal notranslate"><span class="pre">SeismogramEnsembles</span></code> have the most variance in how they could be
plotted.  We chose to always plot such data in three different windows.
The graphic for each component is actually done using a same method
as that for plotting a TimeSeriesEnsemble.  i.e. the plots generated to
plot a SeismogramEnsemble are three instances of plots for TimeSeriesEnsemble
data - one for each component.</p></li>
</ol>
<p>A final point is that any plotting of earthquake data nearly always
requires some form of scaling to prevent some data from clipping while others
will look like flat lines even if they contain valid data.  The technical reason
is that the dynamic range of any graphics devices is tiny compared to that
of modern digital data acquisition systems (about 8 bits for graphics compared
to 24 bit acquisition that is now the norm for earthquake data).  There is
an internal scaling parameter that can be used for all graphics, but the
internal scaling is inflexible.  If the default scaling proves inadequate
use one of the functions for data scaling in
<a class="reference internal" href="../python_api/mspasspy.ccore.html#module-mspasspy.ccore.algorithms.amplitudes" title="mspasspy.ccore.algorithms.amplitudes"><code class="xref py py-mod docutils literal notranslate"><span class="pre">mspasspy.ccore.algorithms.amplitudes</span></code></a>.</p>
</section>
<section id="obspy-graphics">
<h2>Obspy Graphics<a class="headerlink" href="#obspy-graphics" title="Permalink to this heading"></a></h2>
<p>User’s familiar with obspy may, in come cases, prefer to utilize obspy’s
built in graphics.   Obspy’s data objects
(<a class="reference external" href="https://docs.obspy.org/packages/autogen/obspy.core.trace.Trace.html#obspy.core.trace.Trace" title="(in ObsPy v1.4.1)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Trace</span></code></a>
and
<a class="reference external" href="https://docs.obspy.org/packages/autogen/obspy.core.stream.Stream.html#obspy.core.stream.Stream" title="(in ObsPy v1.4.1)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Stream</span></code></a>)
have a plot method as a member of the data object.  MsPASS has
a suite of converters between obspy and MsPASS data objects.
These converters can be used in plotting scrips like the following:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Something above created d as a TimeSeriesEnsemble</span>
<span class="n">d_obspy</span><span class="o">=</span><span class="n">TimeSeriesEnsemble2Stream</span><span class="p">(</span><span class="n">d</span><span class="p">)</span>
<span class="n">d_obspy</span><span class="o">.</span><span class="n">plot</span><span class="p">()</span>
</pre></div>
</div>
</section>
<section id="extending-mspass-graphics">
<h2>Extending MsPASS Graphics<a class="headerlink" href="#extending-mspass-graphics" title="Permalink to this heading"></a></h2>
<p>As noted at the beginning of this section the graphics available in
MsPASS are simple by design.   If you need different graphics capabilities
you have three different options we are aware of:</p>
<ol class="arabic simple">
<li><p>Use the matplotlib approach and use one of the many features of
matplotlib to create a custom plot.</p></li>
<li><p>Extend the SectionPlotter or SeismicPlotter classes using python’s inheritance
mechanism.  If you look under the hood you will find that both classes use
<a class="reference external" href="https://matplotlib.org/stable/index.html">matplotlib</a> as noted earlier.
Although the top level <code class="code docutils literal notranslate"><span class="pre">plot</span></code> method returns nothing, the internal
methods that function uses all return a matplotlib handle.  Many
extensions of our graphics could be implemented by using those
plot handles and using additional matplotlib functions to decorate the
graphic or create GUI extensions.</p></li>
<li><p>Export the subset of your dataset you want to plot and use a different
graphics package to make the graphic you need.</p></li>
</ol>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="header_math.html" class="btn btn-neutral float-left" title="Header (Metadata) Math" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="signal_to_noise.html" class="btn btn-neutral float-right" title="Signal to Noise Ratio Estimation" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2020-2021, Ian Wang.</p>
  </div>

   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>